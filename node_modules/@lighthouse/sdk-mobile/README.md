# mobile-sdks
Lighthouse Mobile SDKs for Android and iOS

## Installation

1. Add `"mobile-sdks": "https://github.com/Lighthouse-io/mobile-sdks.git"` under `dependencies` in your package.json
2. run `npm install mobile-sdks`

### Manual installation Android

* Add the following in `android/setting.gradle`

```
   include ':mobile-sdks'
   project(':mobile-sdks').projectDir = new File(settingsDir, '../node_modules/mobile-sdks/android')
   ```
* In `android/build.gradle` //don't need

```
buildscript {
    dependencies {
        classpath 'com.android.tools.build:gradle:1.3.1'

        classpath 'com.google.gms:google-services:1.5.0-beta3' // <- Add this line
        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
allprojects {
            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm
            url "$projectDir/../../node_modules/react-native/android"
        }
        flatDir {                                                                               // <- Add this line
            dirs '$projectDir/../../../node_modules/mobile-sdks/android/libs'                   // <- Add this line
        }                                                                                       // <- Add this line
    }
}
```

* In `android/app/src/main/AndroidManifest.xml`

add these permissions
```
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
```

* In your `MainActivity.java`
```
import com.lighthousesdks.LighthouseReactPackage;   // <- Add this line

...

            new MainReactPackage(),
            new LighthouseReactPackage()    // <- Add this line
```

* GCM API KEY

   By following [Cloud messaging](https://developers.google.com/cloud-messaging/android/client), you can get `google-services.json` file and place it in android/app directory
   
### Manual installation iOS

* Drag `node_modules/mobile-sdks/ios/LighthouseSDKs.xcodeproj` to your project on Xcode (usually under the Libraries group on Xcode)

* Drag `node_modules/mobile-sdks/ios/LighthouseSDKs/lighthouseRelease/libLighthouse.a` to your project on Xcode

* Click on your main project file (the one that represents the .xcodeproj) select Build Phases and drag the static library(libLighthouseSKDs.a) from the Products folder inside the Library you are importing to Link Binary With Libraries

* Add below code to your Info.plist file

```
	<key>UIBackgroundModes</key>
	<array>
		<string>location</string>
		<string>bluetooth-central</string>
	</array>
	<key>NSLocationWhenInUseUsageDescription</key>
	<string></string>
	<key>NSLocationAlwaysUsageDescription</key>
	<string></string>
```

* Add the following to your `Header Search Paths` and set the search to `recursive`
    `$(SRCROOT)/../node_modules/mobile-sdks`
